<?php
/*   _______________________________________
    |  Obfuscated by PMPR - Php Obfuscator  |
    |             6801065d11bdf             |
    |_______________________________________|
*/
 namespace Pmpr\Module\PWA; use Pmpr\Common\Foundation\Container\ModuleInitiator; use Pmpr\Common\Foundation\Interfaces\Constants; use Pmpr\Module\PWA\Traits\CommonTrait; class PWA extends ModuleInitiator { use CommonTrait; public function register() { $this->gkieogwukagigisy(__DIR__, [Constants::qescuiwgsyuikume => static function () { return __('PWA', PR__MDL__PWA); }, Constants::wuowaiyouwecckaw => false]); } public function wigskegsqequoeks() { $this->qcsmikeggeemccuu('init', [$this, 'init'])->qcsmikeggeemccuu('wp_head', [$this, 'cgoqwmuyygieoaaa']); $this->waqewsckuayqguos('before_enqueue_frontend_assets', [$this, 'enqueue']); } public function init() { if ($this->caokeucsksukesyo()->owicscwgeuqcqaig()->awumyiewiaosiyyy()) { $this->ymyikakmsiykecwm(); $this->sqosmsaoceaoaega(); } } public function cgoqwmuyygieoaaa() { $swqimwqeweekeusq = $this->caokeucsksukesyo()->wgqqgewcmcemoewo(); $swqimwqeweekeusq->awwqwouuoioauoaw('link', ['rel' => 'manifest', 'href' => '/' . $this->asckusockwoccusa()]); $swqimwqeweekeusq->awwqwouuoioauoaw('meta', [Constants::NAME => 'theme-color', Constants::ssmskyqgcmeiayco => $this->weysguygiseoukqw(Setting::eqeuqumaaoiqgwuu, '#FFFFFF')]); } public function enqueue() { if ($this->ocksiywmkyaqseou('can_add_serviceworker', true)) { $meakksicouekcgoe = $this->caokeucsksukesyo()->usugyumcgeaaowsi(); $ewgwqamkygiqaawc = $meakksicouekcgoe->souwykwwmyygqyqi($this, 'register.js', ['sw' => $this->iiemsmwikukeqiso()]); $meakksicouekcgoe->yawoscugkyysowie($meakksicouekcgoe->owygwqwawqoiusis($this, 'serviceworker')->awagieqcmmwkgwgs($ewgwqamkygiqaawc)->qcgcugswouueymok()); } } public function sqosmsaoceaoaega() { if ($seqwakakqouygcqy = $this->caokeucsksukesyo()->eiwcuqigayigimak()->cmaecekuqkwmemms('ABSPATH')) { $ycwygooqaecayaqk = $this->iiemsmwikukeqiso(); $esaqeawoigqgagum = untrailingslashit($seqwakakqouygcqy) . $ycwygooqaecayaqk; $iiaumsgauuyeqksw = $this->caokeucsksukesyo()->iuekyyeesukysksy()->kcciqwskewsuaemk(); if (!$iiaumsgauuyeqksw->exists($esaqeawoigqgagum)) { $gmigwwwmwemyaayy = $this->uwkmaywceaaaigwo()->giiecckwoyiawoyy()->gmigwwwmwemyaayy(); $wqsieqeicmecakqk = $this->iuygowkemiiwqmiw('sw.js', ['cache_name' => $this->caokeucsksukesyo()->cqusmgskowmesgcg()->aakmagwggmkoiiyu($this) . '-' . $this->caokeucsksukesyo()->cqusmgskowmesgcg()->gikwwgqmwccescgy($this), 'start_page' => $gmigwwwmwemyaayy, 'offline_page' => $gmigwwwmwemyaayy]); $iiaumsgauuyeqksw->cmsiuoqwaiwceuqq($seqwakakqouygcqy, $ycwygooqaecayaqk, $wqsieqeicmecakqk); } } } }
